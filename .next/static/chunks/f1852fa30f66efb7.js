(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,99850,e=>{"use strict";var t=e.i(43476),r=e.i(71645);let u=(0,r.createContext)(void 0);function n({children:e}){let[n,i]=(0,r.useState)(null),[d,o]=(0,r.useState)(!1),[a,l]=(0,r.useState)(0),[s,c]=(0,r.useState)(0),v=(0,r.useRef)(null);return(0,r.useEffect)(()=>{v.current||(v.current=new Audio);let e=v.current,t=()=>l(e.currentTime),r=()=>c(e.duration),u=()=>o(!1);return e.addEventListener("timeupdate",t),e.addEventListener("loadedmetadata",r),e.addEventListener("ended",u),()=>{e.removeEventListener("timeupdate",t),e.removeEventListener("loadedmetadata",r),e.removeEventListener("ended",u)}},[]),(0,r.useEffect)(()=>{let e=v.current;e&&n&&(d?e.play().catch(e=>{console.error("Playback failed:",e),o(!1)}):e.pause())},[d,n]),(0,t.jsx)(u.Provider,{value:{isPlaying:d,currentEpisode:n,currentTime:a,duration:s,togglePlay:()=>{n&&o(e=>!e)},playEpisode:e=>{let t=v.current;t&&(n?.id!==e.id?(t.src=e.audioUrl,i(e),l(0),o(!0)):d||o(!0))},seek:e=>{let t=v.current;t&&(t.currentTime=e,l(e))},closePlayer:()=>{let e=v.current;e&&(e.pause(),e.currentTime=0),o(!1),i(null)}},children:e})}function i(){let e=(0,r.useContext)(u);if(void 0===e)throw Error("useAudio must be used within an AudioProvider");return e}e.s(["AudioProvider",()=>n,"useAudio",()=>i])}]);