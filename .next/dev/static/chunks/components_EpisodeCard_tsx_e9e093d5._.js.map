{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/EMPRESA/what-to-do-website/components/EpisodeCard.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport Link from \"next/link\";\r\nimport { FaPlay, FaPause, FaClock } from \"react-icons/fa\";\r\nimport { useAudio } from \"@/context/AudioContext\";\r\n\r\ninterface EpisodeCardProps {\r\n  locale?: \"pt\" | \"en\";\r\n  episode: {\r\n    id: string;\r\n    title: string;\r\n    description: string;\r\n    duration?: string;\r\n    publishDate: string;\r\n    imageUrl?: string;\r\n    audioUrl?: string; // Optional for listing, but good if we want to play directly\r\n  };\r\n}\r\n\r\nexport default function EpisodeCard({\r\n  episode,\r\n  locale = \"pt\",\r\n}: EpisodeCardProps) {\r\n  const { playEpisode, currentEpisode, isPlaying, togglePlay } = useAudio();\r\n  const labels = {\r\n    nowPlaying: locale === \"pt\" ? \"A TOCAR AGORA...\" : \"PLAYING NOW...\",\r\n    paused: locale === \"pt\" ? \"PAUSADO\" : \"PAUSED\",\r\n    minutesFallback: locale === \"pt\" ? \"?? min\" : \"?? min\",\r\n  };\r\n\r\n  // We need an audioUrl to play. If it's missing in props (like in a list view),\r\n  // we might need to fetch it or just navigate to the page.\r\n  // For now let's assume we can play if audioUrl exists, otherwise just link.\r\n\r\n  // Mocking audioUrl if not present for the card pattern to work with play button\r\n  const episodeWithAudio = {\r\n    ...episode,\r\n    audioUrl: episode.audioUrl || `/audio/episode-${episode.id}.mp3`, // Fallback convention\r\n  };\r\n\r\n  const isCurrent = currentEpisode?.id === episode.id;\r\n  const isActuallyPlaying = isCurrent && isPlaying;\r\n\r\n  const handlePlay = (e: React.MouseEvent) => {\r\n    e.preventDefault(); // Prevent navigation\r\n    if (isCurrent) {\r\n      togglePlay();\r\n    } else {\r\n      playEpisode(episodeWithAudio);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"card group cursor-pointer relative\">\r\n      <Link href={`/${locale}/episodes/${episode.id}`}>\r\n        <div className=\"relative h-48 overflow-hidden\">\r\n          <div className=\"absolute inset-0 bg-brand-red/20 group-hover:bg-brand-red/40 transition-all\" />\r\n          <div className=\"gradient-overlay\" />\r\n          <div className=\"absolute bottom-4 left-4 flex items-center space-x-2 text-sm z-10\">\r\n            <FaClock className=\"text-brand-red\" />\r\n            <span>{episode.duration || labels.minutesFallback}</span>\r\n          </div>\r\n\r\n          {/* Play Button Overlay */}\r\n          <div className=\"absolute inset-0 flex items-center justify-center z-20\">\r\n            <button\r\n              onClick={handlePlay}\r\n              className={`bg-brand-red rounded-full p-4 transition-all duration-300 transform hover:scale-110 hover:bg-brand-red-light focus:outline-none ${isActuallyPlaying ? \"opacity-100 scale-100\" : \"opacity-0 scale-90 group-hover:opacity-100 group-hover:scale-100\"}`}\r\n            >\r\n              {isActuallyPlaying ? (\r\n                <FaPause className=\"text-2xl text-white\" />\r\n              ) : (\r\n                <FaPlay className=\"text-2xl text-white ml-1\" />\r\n              )}\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"p-6\">\r\n          {isCurrent && (\r\n            <div className=\"mb-2\">\r\n              <span className=\"text-xs font-bold text-brand-red animate-pulse\">\r\n                {isActuallyPlaying ? labels.nowPlaying : labels.paused}\r\n              </span>\r\n            </div>\r\n          )}\r\n          <p className=\"text-brand-grey text-sm mb-2\">{episode.publishDate}</p>\r\n          <h3 className=\"font-display text-xl font-bold mb-2 group-hover:text-brand-red transition-colors\">\r\n            {episode.title}\r\n          </h3>\r\n          <p className=\"text-brand-grey line-clamp-2\">{episode.description}</p>\r\n        </div>\r\n      </Link>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;;;AAJA;;;;AAmBe,SAAS,YAAY,EAClC,OAAO,EACP,SAAS,IAAI,EACI;;IACjB,MAAM,EAAE,WAAW,EAAE,cAAc,EAAE,SAAS,EAAE,UAAU,EAAE,GAAG,IAAA,uIAAQ;IACvE,MAAM,SAAS;QACb,YAAY,WAAW,OAAO,qBAAqB;QACnD,QAAQ,WAAW,OAAO,YAAY;QACtC,iBAAiB,WAAW,OAAO,WAAW;IAChD;IAEA,+EAA+E;IAC/E,0DAA0D;IAC1D,4EAA4E;IAE5E,gFAAgF;IAChF,MAAM,mBAAmB;QACvB,GAAG,OAAO;QACV,UAAU,QAAQ,QAAQ,IAAI,CAAC,eAAe,EAAE,QAAQ,EAAE,CAAC,IAAI,CAAC;IAClE;IAEA,MAAM,YAAY,gBAAgB,OAAO,QAAQ,EAAE;IACnD,MAAM,oBAAoB,aAAa;IAEvC,MAAM,aAAa,CAAC;QAClB,EAAE,cAAc,IAAI,qBAAqB;QACzC,IAAI,WAAW;YACb;QACF,OAAO;YACL,YAAY;QACd;IACF;IAEA,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC,0KAAI;YAAC,MAAM,CAAC,CAAC,EAAE,OAAO,UAAU,EAAE,QAAQ,EAAE,EAAE;;8BAC7C,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAI,WAAU;;;;;;sCACf,6LAAC;4BAAI,WAAU;;;;;;sCACf,6LAAC;4BAAI,WAAU;;8CACb,6LAAC,4JAAO;oCAAC,WAAU;;;;;;8CACnB,6LAAC;8CAAM,QAAQ,QAAQ,IAAI,OAAO,eAAe;;;;;;;;;;;;sCAInD,6LAAC;4BAAI,WAAU;sCACb,cAAA,6LAAC;gCACC,SAAS;gCACT,WAAW,CAAC,gIAAgI,EAAE,oBAAoB,0BAA0B,oEAAoE;0CAE/P,kCACC,6LAAC,4JAAO;oCAAC,WAAU;;;;;yDAEnB,6LAAC,2JAAM;oCAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;8BAM1B,6LAAC;oBAAI,WAAU;;wBACZ,2BACC,6LAAC;4BAAI,WAAU;sCACb,cAAA,6LAAC;gCAAK,WAAU;0CACb,oBAAoB,OAAO,UAAU,GAAG,OAAO,MAAM;;;;;;;;;;;sCAI5D,6LAAC;4BAAE,WAAU;sCAAgC,QAAQ,WAAW;;;;;;sCAChE,6LAAC;4BAAG,WAAU;sCACX,QAAQ,KAAK;;;;;;sCAEhB,6LAAC;4BAAE,WAAU;sCAAgC,QAAQ,WAAW;;;;;;;;;;;;;;;;;;;;;;;AAK1E;GA5EwB;;QAIyC,uIAAQ;;;KAJjD"}}]
}