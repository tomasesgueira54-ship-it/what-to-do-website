{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 24, "column": 0}, "map": {"version":3,"sources":["file:///C:/EMPRESA/what-to-do-website/app/events/EventsClient.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/app/events/EventsClient.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/events/EventsClient.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAA+R,GAC5T,6DACA","ignoreList":[0]}},
    {"offset": {"line": 38, "column": 0}, "map": {"version":3,"sources":["file:///C:/EMPRESA/what-to-do-website/app/events/EventsClient.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/app/events/EventsClient.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/events/EventsClient.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAA2Q,GACxS,yCACA","ignoreList":[0]}},
    {"offset": {"line": 52, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 60, "column": 0}, "map": {"version":3,"sources":["file:///C:/EMPRESA/what-to-do-website/app/%5Blocale%5D/events/page.tsx"],"sourcesContent":["import fs from \"fs/promises\";\r\nimport path from \"path\";\r\nimport EventsClient from \"@/app/events/EventsClient\";\r\nimport { Event } from \"@/data/types\";\r\nimport { defaultLocale, locales, type Locale } from \"@/i18n.config\";\r\n\r\nasync function getEvents(): Promise<Event[]> {\r\n  try {\r\n    const filePath = path.join(process.cwd(), \"data\", \"events.json\");\r\n    const fileContent = await fs.readFile(filePath, \"utf-8\");\r\n    const events: Event[] = JSON.parse(fileContent);\r\n    return dedupeEvents(events)\r\n      .filter(isUpcoming)\r\n      .sort((a, b) => new Date(a.date).getTime() - new Date(b.date).getTime());\r\n  } catch {\r\n    return [];\r\n  }\r\n}\r\n\r\nfunction isUpcoming(event: Event): boolean {\r\n  const today = new Date();\r\n  today.setHours(0, 0, 0, 0);\r\n  const endOrStart = event.endDate\r\n    ? new Date(event.endDate)\r\n    : new Date(event.date);\r\n  return endOrStart >= today;\r\n}\r\n\r\nfunction dedupeEvents(events: Event[]): Event[] {\r\n  const seen = new Set<string>();\r\n  const result: Event[] = [];\r\n\r\n  for (const ev of events) {\r\n    const key = ev.url || \"\" || `${ev.title}-${ev.date}`;\r\n    const altKey = `${ev.title}-${ev.date}`;\r\n    if (seen.has(key) || seen.has(altKey)) continue;\r\n    seen.add(key);\r\n    seen.add(altKey);\r\n    result.push(ev);\r\n  }\r\n\r\n  return result;\r\n}\r\n\r\nexport default async function EventsPage({\r\n  params,\r\n}: {\r\n  params: Promise<{ locale: string }>;\r\n}) {\r\n  const { locale: localeParam } = await params;\r\n  const locale: Locale = locales.includes(localeParam as Locale)\r\n    ? (localeParam as Locale)\r\n    : defaultLocale;\r\n  const events = await getEvents();\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-brand-black text-white\">\r\n      <div className=\"container mx-auto px-4 py-12\">\r\n        <div className=\"mb-10\">\r\n          <h1 className=\"text-4xl md:text-5xl font-display font-black mb-2\">\r\n            {locale === \"pt\" ? \"Eventos\" : \"Events\"}\r\n          </h1>\r\n          <p className=\"text-brand-grey\">\r\n            {locale === \"pt\"\r\n              ? \"Descobre os melhores eventos em Lisboa\"\r\n              : \"Discover the best events in Lisbon\"}\r\n          </p>\r\n        </div>\r\n        <EventsClient events={events} locale={locale} />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AAEA;;;;;;AAEA,eAAe;IACb,IAAI;QACF,MAAM,WAAW,4GAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI,QAAQ;QAClD,MAAM,cAAc,MAAM,gIAAE,CAAC,QAAQ,CAAC,UAAU;QAChD,MAAM,SAAkB,KAAK,KAAK,CAAC;QACnC,OAAO,aAAa,QACjB,MAAM,CAAC,YACP,IAAI,CAAC,CAAC,GAAG,IAAM,IAAI,KAAK,EAAE,IAAI,EAAE,OAAO,KAAK,IAAI,KAAK,EAAE,IAAI,EAAE,OAAO;IACzE,EAAE,OAAM;QACN,OAAO,EAAE;IACX;AACF;AAEA,SAAS,WAAW,KAAY;IAC9B,MAAM,QAAQ,IAAI;IAClB,MAAM,QAAQ,CAAC,GAAG,GAAG,GAAG;IACxB,MAAM,aAAa,MAAM,OAAO,GAC5B,IAAI,KAAK,MAAM,OAAO,IACtB,IAAI,KAAK,MAAM,IAAI;IACvB,OAAO,cAAc;AACvB;AAEA,SAAS,aAAa,MAAe;IACnC,MAAM,OAAO,IAAI;IACjB,MAAM,SAAkB,EAAE;IAE1B,KAAK,MAAM,MAAM,OAAQ;QACvB,MAAM,MAAM,GAAG,GAAG,IAAI,MAAM,GAAG,GAAG,KAAK,CAAC,CAAC,EAAE,GAAG,IAAI,EAAE;QACpD,MAAM,SAAS,GAAG,GAAG,KAAK,CAAC,CAAC,EAAE,GAAG,IAAI,EAAE;QACvC,IAAI,KAAK,GAAG,CAAC,QAAQ,KAAK,GAAG,CAAC,SAAS;QACvC,KAAK,GAAG,CAAC;QACT,KAAK,GAAG,CAAC;QACT,OAAO,IAAI,CAAC;IACd;IAEA,OAAO;AACT;AAEe,eAAe,WAAW,EACvC,MAAM,EAGP;IACC,MAAM,EAAE,QAAQ,WAAW,EAAE,GAAG,MAAM;IACtC,MAAM,SAAiB,yHAAO,CAAC,QAAQ,CAAC,eACnC,cACD,+HAAa;IACjB,MAAM,SAAS,MAAM;IAErB,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAG,WAAU;sCACX,WAAW,OAAO,YAAY;;;;;;sCAEjC,8OAAC;4BAAE,WAAU;sCACV,WAAW,OACR,2CACA;;;;;;;;;;;;8BAGR,8OAAC,yIAAY;oBAAC,QAAQ;oBAAQ,QAAQ;;;;;;;;;;;;;;;;;AAI9C"}}]
}