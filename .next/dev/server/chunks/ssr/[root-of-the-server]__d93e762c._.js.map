{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///C:/EMPRESA/what-to-do-website/app/%5Blocale%5D/events/%5Bid%5D/page.tsx"],"sourcesContent":["import Image from \"next/image\";\r\nimport Link from \"next/link\";\r\nimport {\r\n  FaArrowLeft,\r\n  FaTicketAlt,\r\n  FaMapMarkerAlt,\r\n  FaCalendarAlt,\r\n  FaExternalLinkAlt,\r\n} from \"react-icons/fa\";\r\nimport { notFound } from \"next/navigation\";\r\nimport fs from \"fs/promises\";\r\nimport path from \"path\";\r\nimport { defaultLocale, locales, type Locale } from \"@/i18n.config\";\r\n\r\nasync function getEvent(id: string) {\r\n  try {\r\n    const filePath = path.join(process.cwd(), \"data\", \"events.json\");\r\n    const fileContent = await fs.readFile(filePath, \"utf-8\");\r\n    const events = JSON.parse(fileContent);\r\n    return events.find((e: any) => e.id === id);\r\n  } catch {\r\n    return null;\r\n  }\r\n}\r\n\r\nexport default async function EventPage({\r\n  params,\r\n}: {\r\n  params: Promise<{ locale: string; id: string }>;\r\n}) {\r\n  const { locale: localeParam, id } = await params;\r\n  const locale: Locale = locales.includes(localeParam as Locale)\r\n    ? (localeParam as Locale)\r\n    : defaultLocale;\r\n  const event = await getEvent(id);\r\n  const isPt = locale === \"pt\";\r\n\r\n  if (!event) {\r\n    notFound();\r\n  }\r\n\r\n  const dateLocale = isPt ? \"pt-PT\" : \"en-US\";\r\n  const dateObj = new Date(event.date);\r\n  const dateStr = dateObj.toLocaleDateString(dateLocale, {\r\n    day: \"numeric\",\r\n    month: \"long\",\r\n    year: \"numeric\",\r\n  });\r\n  const timeStr = dateObj.toLocaleTimeString(dateLocale, {\r\n    hour: \"2-digit\",\r\n    minute: \"2-digit\",\r\n  });\r\n  const normalizedPrice =\r\n    event.price || (isPt ? \"PreÃ§o indisponÃ­vel\" : \"Price unavailable\");\r\n  const endDateStr = event.endDate\r\n    ? new Date(event.endDate).toLocaleDateString(dateLocale, {\r\n        day: \"numeric\",\r\n        month: \"long\",\r\n        year: \"numeric\",\r\n      })\r\n    : null;\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-brand-black pb-20\">\r\n      <div className=\"relative h-[50vh] w-full bg-brand-grey-dark overflow-hidden\">\r\n        {event.image ? (\r\n          <Image\r\n            src={event.image}\r\n            alt={event.title}\r\n            fill\r\n            className=\"object-cover opacity-60\"\r\n            sizes=\"100vw\"\r\n          />\r\n        ) : (\r\n          <div className=\"absolute inset-0 flex items-center justify-center text-brand-grey text-6xl opacity-20\">\r\n            ðŸ“…\r\n          </div>\r\n        )}\r\n        <div className=\"absolute inset-0 bg-gradient-to-t from-brand-black via-transparent to-transparent\" />\r\n\r\n        <div className=\"absolute top-6 left-6 z-10\">\r\n          <Link\r\n            href={`/${locale}/events`}\r\n            className=\"flex items-center gap-2 bg-brand-black/50 backdrop-blur px-4 py-2 rounded-full text-white hover:bg-brand-red transition-colors\"\r\n          >\r\n            <FaArrowLeft /> {isPt ? \"Voltar\" : \"Back\"}\r\n          </Link>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"container mx-auto px-4 -mt-20 relative z-10\">\r\n        <div className=\"bg-brand-black-light p-8 rounded-2xl shadow-2xl border border-brand-grey-dark/30\">\r\n          <div className=\"flex flex-col md:flex-row gap-8 justify-between\">\r\n            <div className=\"flex-1\">\r\n              <span className=\"text-brand-red font-bold tracking-widest text-sm uppercase mb-2 block\">\r\n                {event.source}\r\n              </span>\r\n              <h1 className=\"font-display text-4xl md:text-5xl font-bold mb-6 text-white\">\r\n                {event.title}\r\n              </h1>\r\n\r\n              <div className=\"flex flex-col gap-3 text-brand-grey-light mb-8\">\r\n                <div className=\"flex items-center gap-3 text-lg\">\r\n                  <FaCalendarAlt className=\"text-brand-red\" />\r\n                  <span>\r\n                    {dateStr} {isPt ? \"Ã s\" : \"at\"} {timeStr}\r\n                  </span>\r\n                </div>\r\n                {endDateStr && (\r\n                  <div className=\"flex items-center gap-3 text-sm text-brand-grey\">\r\n                    <FaCalendarAlt className=\"text-brand-red\" />\r\n                    <span>\r\n                      {isPt\r\n                        ? `Termina em ${endDateStr}`\r\n                        : `Ends on ${endDateStr}`}\r\n                    </span>\r\n                  </div>\r\n                )}\r\n                <div className=\"flex items-center gap-3 text-lg\">\r\n                  <FaMapMarkerAlt className=\"text-brand-red\" />\r\n                  <span>{event.location}</span>\r\n                </div>\r\n                <div className=\"flex items-center gap-3 text-lg\">\r\n                  <FaTicketAlt className=\"text-brand-red\" />\r\n                  <span>{normalizedPrice}</span>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"prose prose-invert max-w-none mb-8\">\r\n                <h3 className=\"text-xl font-bold mb-4\">\r\n                  {isPt ? \"Sobre o evento\" : \"About the event\"}\r\n                </h3>\r\n                <p className=\"text-brand-grey text-lg leading-relaxed whitespace-pre-line\">\r\n                  {event.description}\r\n                </p>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"md:w-80 flex flex-col gap-4\">\r\n              <div className=\"bg-brand-black p-6 rounded-xl border border-brand-grey-dark/30 sticky top-24\">\r\n                <h3 className=\"font-bold text-xl mb-4\">\r\n                  {isPt ? \"Bilhetes e Info\" : \"Tickets & Info\"}\r\n                </h3>\r\n                {event.url ? (\r\n                  <Link\r\n                    href={event.url}\r\n                    target=\"_blank\"\r\n                    className=\"btn-primary w-full flex items-center justify-center gap-2 mb-3 px-4 py-3 bg-brand-red hover:bg-red-700 text-white font-bold rounded shadow transition-all transform hover:scale-105\"\r\n                  >\r\n                    {isPt ? \"Comprar Bilhetes\" : \"Buy Tickets\"}{\" \"}\r\n                    <FaExternalLinkAlt size={14} />\r\n                  </Link>\r\n                ) : (\r\n                  <button\r\n                    className=\"btn-primary w-full opacity-50 cursor-not-allowed px-4 py-3 bg-gray-600 rounded\"\r\n                    disabled\r\n                  >\r\n                    {isPt ? \"Bilhetes IndisponÃ­veis\" : \"Tickets Unavailable\"}\r\n                  </button>\r\n                )}\r\n                <p className=\"text-xs text-center text-brand-grey mt-2\">\r\n                  {isPt\r\n                    ? \"Verifique sempre os detalhes no site oficial do promotor.\"\r\n                    : \"Always verify details on the organizer's official site.\"}\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}