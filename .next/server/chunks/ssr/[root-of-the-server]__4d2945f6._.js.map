{"version":3,"sources":["../../../../app/events/EventsClient.tsx/__nextjs-internal-proxy.mjs","../../../../app/events/page.tsx"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/app/events/EventsClient.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/events/EventsClient.tsx\",\n    \"default\",\n);\n","import { FaSearch } from \"react-icons/fa\";\r\nimport fs from \"fs/promises\";\r\nimport path from \"path\";\r\nimport { Event } from \"@/data/types\";\r\nimport EventsClient from \"./EventsClient\";\r\n\r\nasync function getEvents(): Promise<Event[]> {\r\n  try {\r\n    const filePath = path.join(process.cwd(), \"data\", \"events.json\");\r\n    const fileContent = await fs.readFile(filePath, \"utf-8\");\r\n    const events: Event[] = JSON.parse(fileContent);\r\n    return dedupeEvents(events)\r\n      .filter(isUpcoming)\r\n      .sort((a, b) => new Date(a.date).getTime() - new Date(b.date).getTime());\r\n  } catch (error) {\r\n    console.error(\"Failed to read events.json\", error);\r\n    return [];\r\n  }\r\n}\r\n\r\nfunction isUpcoming(event: Event): boolean {\r\n  const today = new Date();\r\n  today.setHours(0, 0, 0, 0);\r\n  const endOrStart = event.endDate ? new Date(event.endDate) : new Date(event.date);\r\n  return endOrStart >= today;\r\n}\r\n\r\nfunction dedupeEvents(events: Event[]): Event[] {\r\n  const seen = new Set<string>();\r\n  const result: Event[] = [];\r\n\r\n  for (const ev of events) {\r\n    const key = (ev.url || \"\") || `${ev.title}-${ev.date}`;\r\n    const altKey = `${ev.title}-${ev.date}`;\r\n    if (seen.has(key) || seen.has(altKey)) continue;\r\n    seen.add(key);\r\n    seen.add(altKey);\r\n    result.push(ev);\r\n  }\r\n\r\n  return result;\r\n}\r\n\r\nexport default async function EventsPage() {\r\n  const events = await getEvents();\r\n  const totalEvents = events.length;\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-brand-black text-white selection:bg-brand-red selection:text-white\">\r\n      {/* Hero */}\r\n      <section className=\"relative overflow-hidden py-24 px-4 md:px-8 border-b border-brand-grey-dark/30\">\r\n        <div className=\"absolute inset-0 bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-brand-red/20 via-brand-black to-brand-black pointer-events-none\" />\r\n\r\n        <div className=\"container mx-auto text-center relative z-10\">\r\n          <h1 className=\"text-5xl md:text-7xl font-display font-black mb-6 tracking-tight\">\r\n            <span className=\"bg-clip-text text-transparent bg-gradient-to-b from-white via-white to-brand-grey\">\r\n              Agenda{\" \"}\r\n            </span>\r\n            <span className=\"text-transparent bg-clip-text bg-gradient-to-br from-brand-red to-red-600 drop-shadow-sm\">\r\n              Cultural\r\n            </span>\r\n          </h1>\r\n          <p className=\"max-w-2xl mx-auto text-brand-grey text-lg md:text-xl mb-12 font-light leading-relaxed\">\r\n            Os melhores eventos, concertos, exposições e festas em Lisboa para\r\n            esta semana.\r\n          </p>\r\n\r\n          <div className=\"relative group inline-flex flex-col items-center justify-center p-8 bg-brand-black/40 backdrop-blur-xl border border-white/10 rounded-3xl overflow-hidden shadow-[0_0_50px_-20px_rgba(142,13,60,0.3)] hover:shadow-[0_0_80px_-10px_rgba(142,13,60,0.6)] hover:border-brand-red/50 hover:scale-105 transition-all duration-500 ease-out\">\r\n            <div className=\"absolute inset-0 bg-gradient-to-br from-brand-red/20 via-transparent to-brand-red/5 opacity-0 group-hover:opacity-100 transition-opacity duration-500\"></div>\r\n            <div className=\"absolute -inset-full bg-[radial-gradient(circle_at_center,rgba(255,255,255,0.1),transparent_70%)] opacity-0 group-hover:opacity-100 transition-opacity duration-700 blur-xl\"></div>\r\n\r\n            <p className=\"relative z-10 text-sm md:text-base text-brand-grey-light uppercase tracking-[0.25em] font-bold mb-2 group-hover:text-white transition-colors duration-300\">\r\n              Total de eventos\r\n            </p>\r\n            <p className=\"relative z-10 text-6xl md:text-7xl font-black text-transparent bg-clip-text bg-gradient-to-b from-white via-white to-brand-grey group-hover:to-white drop-shadow-2xl tabular-nums tracking-tighter transition-all duration-300 transform group-hover:scale-110\">\r\n              {totalEvents}\r\n            </p>\r\n          </div>\r\n\r\n          {/* Search - simplified for now as this is a Server Component */}\r\n          <div className=\"max-w-xl mx-auto flex items-center bg-brand-black border border-brand-grey-dark rounded-full px-6 py-4 shadow-lg focus-within:ring-2 focus-within:ring-brand-red opacity-50 cursor-not-allowed hidden\">\r\n            <FaSearch className=\"text-brand-grey mr-4\" />\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Pesquisar eventos (Em breve)\"\r\n              disabled\r\n              className=\"flex-1 bg-transparent text-white outline-none placeholder-brand-grey-dark cursor-not-allowed\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      {/* Events Grid */}\r\n      <section className=\"py-16 px-4 md:px-8\">\r\n        <div className=\"container mx-auto\">\r\n          <EventsClient events={events} />\r\n        </div>\r\n      </section>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","ignoreList":[0]}